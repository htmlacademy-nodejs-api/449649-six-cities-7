# Как работать над проектом

## Окружение

Для удобства работы над проектом используются инструменты из **Node.js** и **npm**. Все необходимые настройки произведены. Убедитесь, что на рабочем компьютере установлен актуальный LTS релиз Node.js**. Актуальная версия **Node.js** указана в файле `package.json` в поле `node`. Затем, в терминале, перейдите в директорию с проектом и _единожды_ запустите команду:

```bash
npm install
```

Команда запустит процесс установки зависимостей проекта из **npm**.

Переменные окружения
Список всех переменных окружения приведён ниже. Формат описания: PARAM=value — описание.

- `PORT=4000` — Порт, на котором будет работать приложение.
- `SALT=secret` — секретное слово, используемое для хеширования паролей или другой конфиденциальной информации.
- `DB_HOST=value` - IP-адрес сервера базы данных (MongoDB)
- `DB_USER=admin` — имя пользователя для доступа к базе данных.
- `DB_PASSWORD=admin` — пароль пользователя для доступа к базе данных.
- `DB_PORT=27017` — порт, на котором работает база данных.
- `UPLOAD_DIRECTORY=upload` — директория, в которую будут загружаться файлы.
- `JWT_SECRET=secret` — секретный ключ для создания и верификации JSON Web Tokens.
- `HOST=localhost` — хост, на котором будет работать ваше приложение.
- `STATIC_DIRECTORY_PATH=static` — путь к директории, где хранятся статические файлы (например, изображения, CSS и JavaScript файлы).

## Запуск проекта

Для запуска проекта необходимо выполнить следующие шаги:

1. **Установка зависимостей.** В терминале, находясь в корневой директории проекта, выполните команду `npm install`. Это установит все необходимые зависимости, указанные в файле `package.json`.

2. **Настройка переменных окружения.** Создайте файл `.env` в корневой директории проекта и укажите в нем необходимые переменные окружения. Пример содержимого файла; .env.example

   Замените значения переменных на те, которые вы будете использовать в вашем приложении.

3. **Сборка проекта.** Запустите команду `npm run build`. Это приведет к созданию директории `dist`, в которой будет находиться скомпилированный проект.

4. **Запуск проекта.** Запустите команду `npm start`. Это запустит ваше приложение. Если все было сделано правильно, приложение должно успешно запуститься и быть доступным по адресу, указанному в переменной окружения `HOST`, и порту, указанному в переменной окружения `PORT`.

### Сценарии

В `package.json` предопределено несколько сценариев.

#### Запустить проект

```bash
npm run start
```

Этот сценарий сначала собирает ваш проект, а затем запускает его с помощью Node.js. Он использует скомпилированный файл `main.rest.js` из директории `dist`.

#### Запустить проект в режиме разработки

```bash
npm run start:dev
```

Этот сценарий использует `nodemon` для запуска вашего проекта в режиме разработки. `nodemon` автоматически перезапускает ваше приложение при обнаружении изменений в исходном коде.


#### Скомпилировать проект

```bash
npm run compile
```

Создаст директорию `dist` и скомпилирует проект.

#### Удалить скомпилированный проект

```bash
npm run clean
```

Удаляет директорию `dist`. Используется перед компиляцией.

#### Собрать проект

Этот сценарий сначала очищает директорию `dist`, а затем компилирует ваш проект.

```bash
npm run build
```

#### Проверить линтером

```bash
npm run lint
```

Запуск проверки проекта статическим анализатором кода **ESLint**.

Линтер проверяет файлы только внутри директории `src`.

**Обратите внимание**, при запуске данной команды, ошибки выводятся в терминал.

#### Запустить ts-модуль без компиляции

```bash
npm run ts -- <Путь к модулю с ts-кодом>
```

Пакет `ts-node` позволяет выполнить TS-код в Node.js без предварительной компиляции. Используется только на этапе разработки.

## Структура проекта

### Директория `src`

Исходный код проекта: компоненты, модули и так далее. Структура директории `src` может быть произвольной.

### Файл `Readme.md`

Инструкции по работе с учебным репозиторием.

### Файл `Contributing.md`

Советы и инструкции по внесению изменений в учебный репозиторий.

### Остальное

Все остальные файлы в проекте являются служебными. Пожалуйста, не удаляйте и не изменяйте их самовольно. Только если того требует задание или наставник.
